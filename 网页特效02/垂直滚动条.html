<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        .box {
            width: 200px;
            height: 400px;
            border: 1px solid #ccc;
            margin: 100px;
            position: relative;
            overflow: hidden;
        }
        .text {
            position: absolute;
            top: 0;
            left: 0;
        }
        .roll {
            width: 8px;
            height: 400px;
            /*background-color: pink;*/
            position: absolute;
            right: 0;
            top: 0;
        }
        .bar {
            width: 6px;
            height: 30px;
            background-color: #999;
            border-radius: 3px;
            position: absolute;
            top: 1px;
            left: 1px;
        }
    </style>
</head>
<body>
    <div class="box" id = "box">
        <div class="text">
            吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆打豆豆吃饭饭吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡觉觉打豆豆吃饭饭睡
        </div>
        <div class="roll">
            <div class="bar"></div>
        </div>
    </div>
</body>
</html>
<script>
    var box = document.getElementById("box");
    var text = box.children[0];
    var roll = box.children[1];
    var bar = roll.children[0];
    var barHeight = box.offsetHeight / text.offsetHeight * roll.offsetHeight;
    bar.style.height = barHeight + "px";
    bar.onmousedown = function(event) {
        var event = event || window.event;
        var top = event.clientY - box.offsetTop - bar.offsetTop;
        //alert(box.offsetTop);
        document.onmousemove = function(event) {
            window.getSelection() ? window.getSelection().removeAllRanges() : document.selection.empty();
            var event = event || window.event;
            var thisTop = event.clientY - top - box.offsetTop;
            thisTop <= 0 ? thisTop = 0 : thisTop;
            thisTop >= roll.offsetHeight - bar.offsetHeight - 1 ? thisTop = roll.offsetHeight - bar.offsetHeight - 1 : thisTop;
            bar.style.top = thisTop + "px";

            text.style.top = -thisTop * (text.offsetHeight - box.offsetHeight) / (roll.offsetHeight - bar.offsetHeight) + "px";
        };
        document.onmouseup = function() {
            document.onmousemove = null;
        }
    }
</script>